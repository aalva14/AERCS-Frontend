<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title id="title">Community Visualization</title>

  <style type="text/css">
  </style>
  
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascript/functions.js"></script>
  <script src="javascript/ServiceAPI/b64.js"></script>
  <script src="javascript/ServiceAPI/moduleHelper.js"></script>
  <script src="javascript/ServiceAPI/serviceAPI.js"></script>
  <script src="javascript/requestHandler.js"></script>

  <script type="text/javascript">
	var id = getUrlVar("id");
    var layout = getUrlVar("layout");
    if(typeof layout === 'undefined') {
    	layout = "circular";
    }

    getPersonNetworkVisualization(setVisualization, function(errorData){alert("error:"+errorData);}, id, layout, 950, 550);

	function setVisualization(data) {
		var formStr = '\
	    	<input type="hidden" name="id" value="' +id+ '">\
			<select name="layout" onchange="submit()">\
		    	<option value="circular"' +(layout=="circular"?"selected":"")+ '>Circular</option>\
		    	<option value="organic"' +(layout=="organic"?"selected":"")+ '>Organic</option>\
		    	<option value="smartOrganic"' +(layout=="smartOrganic"?"selected":"")+ '>Smart Organic</option>\
	    	</select>';
		
		$("#layoutForm").append(formStr);
		$("#visualization").append(data);
	}

  </script>
</head>
<body>
   	<table>
   		<tr align="left">
		   	<td>
			   	<form method="get" action="" name="layoutForm" id="layoutForm">
				</form>
			</td>
		</tr>
		<tr align="left">
			<td>
	   			<div id="visualization"> </div>
	   		</td>
	   	</tr>
	</table>
</body>
</html>